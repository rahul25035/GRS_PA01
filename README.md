# Process vs Thread Performance Analysis in C (MT25035)

**Short description**

This repository contains code, scripts and results for an experiment that compares the behaviour and performance of **process-based** and **thread-based** parallelism across different workload types (CPU / memory / I/O).

> This `README.md` was updated to match the `Makefile` and files in the repository (as shown in the project screenshot).

---

## Repository files (present)

* `MT25035_Part_A_Program_A.c`         
* `MT25035_Part_A_Program_B.c`         
* `MT25035_Part_B_Program_A.c`         
* `MT25035_Part_B_Program_B.c`         
* `MT25035_Part_C_Program_A.c`         
* `MT25035_Part_C_Program_B.c`         
* `MT25035_Part_C_main.sh`     
* `MT25035_Part_C_results.csv` 
* `MT25035_Part_D_Program_A.c`         
* `MT25035_Part_D_Program_B.c`         
* `MT25035_Report.pdf`        
* `MT25035_Part_D_main.sh`     
* `MT25035_Part_D_plots.sh`    
* `MT25035_Part_D_results.csv` 
* `Makefile`                  
* `README.md`                 
* `MT25035_Report.pdf`               


---

## Makefile summary

The `Makefile` included in the repo defines these variables and targets (matching the file content):

```makefile
CC=gcc
CFLAGS=-Wall
PTHREAD=-pthread

MODE?=cpu    # default workload: cpu (options: cpu, mem, io)
N?=2         # default number of workers (processes/threads)

.PHONY: partA partB partC partD run clean
```

Targets:

* `make partA` — compiles `MT25035_Part_A_Program_A.c` and runs it with `MODE` and `N`:

  ```bash
  make partA            # runs ./a.out $(MODE) $(N)
  make partA MODE=mem N=4
  ```

* `make partB` — compiles `MT25035_Part_A_Program_B.c` with pthreads and runs it:

  ```bash
  make partB            # runs ./b.out $(MODE) $(N)
  make partB MODE=io N=8
  ```

* `make partC` — makes the Part C script executable and runs `MT25035_Part_C_main.sh`.

* `make partD` — makes the Part D script executable and runs `MT25035_Part_D_main.sh`.

* `make run` — alias target which currently depends on `partD`.

* `make clean` — removes generated binaries and data files:

  ```bash
  make clean
  # removes: a.out b.out try_proc.txt try_thread.txt *.png *.dat
  ```

---

## How to build & run (example commands)

1. Build & run Part A (processes):

```bash
make partA           # uses defaults: MODE=cpu, N=2
# override defaults:
make partA MODE=cpu N=4
make partA MODE=mem N=8
```

2. Build & run Part B (threads):

```bash
make partB
make partB MODE=io N=6
```

3. Run automation scripts for Part C / Part D:

```bash
make partC
make partD
```

4. Run the full experiment (as configured in Makefile):

```bash
make run
```

## Expected outputs

* Binaries: `a.out` (Part A) and `b.out` (Part B)
* CSV results: `MT25035_Part_C_results.csv`, `MT25035_Part_D_results.csv`
* Plots: generated by `MT25035_Part_D_plots.sh` (e.g. `*.png`)
* Temporary logs: `try_proc.txt`, `try_thread.txt` (removed by `make clean`)

---

## Running tips and environment

* Pin processes/threads to CPUs for controlled experiments using `taskset`.
* Use `/usr/bin/time -v` for detailed timing and memory stats (some scripts assume `/usr/bin/time`).
* Install `sysstat` for `iostat` and ensure `gnupplot` or the plot tool used by scripts is available for plotting.
* If a script fails with "`/usr/bin/time not found`", either install `time` or change the script to use the `time` builtin.

---

